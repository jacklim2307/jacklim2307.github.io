<!DOCTYPE html>
<html>

<head>
    <title>Xiaomi 11 Lite 5G NE(8GB+128GB/256GB)</title>
    <link rel="icon" type="image/x-icon" href="image/KH LOGO.png">
    <link href="css/page.css" rel="stylesheet">
    <link href="css/LCategory.css" rel="stylesheet">
</head>

<body>
    <div class="background-image"></div>
    <header>
        <div class="log0">
            <div style="margin-left: 1%;">
                <a href="javascript:history.back()">&#8592;</a>
            </div>
            <div class="tcart1">
                <a href="cart.html" class="tcart">&#128722;</a>
            </div>
            <div class="log1">
                <div class="log">
                    &#128100;
                    <div class="log-content">
                        <a href="Login.html" id="LogIn">Log In</a>
                    </div>
                </div>
                <div class="log2">
                    &#128100;
                    <div class="log2-content">
                        <a href="MyAccount.html" id="MyAccount">Account</a>
                        <a href="#" onclick="logout()" id="LogOut">Log Out</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="product">
            <div class="product_image">
                <div class="mySlides fade">
                    <img src="image/Mobile2.jpg" style="background-color: #c7c2c2; width: 100%">
                </div>

                <div class=" mySlides fade">
                    <img src="image/Mobile2-1.jpg" style="width:100%">
                </div>

                <div class=" mySlides fade">
                    <img src="image/Mobile2-2.jpg" style="width:100%">
                </div>
                <p style="display: none;">img src="image/Mobile2.jpg"</p>
            </div>
            </br>
            <div style="text-align:center">
                <span class="dot" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
            </div>
            <div class="info">

                <div class="product_name">
                    <h1>Xiaomi 11 Lite 5G NE(8GB+128GB/256GB)</h1>
                </div>
                <div class="price1">
                    <div class="price2">
                        <div class="price" style="margin-left: 40%;">RM1599.0</div>
                    </div>
                </div>
                <div class="brand">
                    <div class="brand1">
                        <div style="margin-top: auto; margin-bottom: auto; font-size: 1.2em;margin-right: 10%;">Color: </div>
                        <div class="color-option">White</div>
                        <div class="color-option">Blue</div>
                        <div class="color-option">Green</div>
                    </div>
                    <div id="selected-color-text" style="display: none;"></div>
                </div>
                <div class="brand">
                    <div class="flex">
                        <div class="brand1">
                            <div style="margin-top: 10px;height: 30px; font-size: 1.2em;margin-right: 10%;width: 150px;">Storage: </div>
                            <div class="color-option2" style="margin-left: 37px; width: 140px;display: inline-block;
                            height: 30px;
                            margin: 5px;
                            text-align: center;
                            line-height: 30px;
                            cursor: pointer;
                            border: 1px solid gray;
                            font-size: 1.2em;
                            color: gray;">8+128GB</div>
                            <div class="color-option1" style="width: 150px; margin-left: 40px;margin-right: 40px;">8+256GB</div>
                        </div>
                        <div id="selected-color-text1" style="display: none;"></div>
                        <div class="quantity">
                            <div class="quantity1">
                                <div>Quantity:</div>
                                <div class="input-group">
                                    <input type="button" class="minus" value="-" data-type="minus"></input>
                                    <input class="input" type="text" name="quantity" size="2" value="1">
                                    <input type="button" class="plus" value="+" data-type="plus"></input>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="shop">
                    <h2>Shop Details</h2>
                    <div class="flex">
                        <div><img src="image/Shop9.jpg"></div>
                        <div style="width: 250px;margin-left: 50px;margin-right: 50px;">
                            <h3>Xiaomi Official Store Local</h3>
                            <div class="flex">
                                <a href="">chat now</a>
                                <a href="">view shop</a>
                            </div>
                        </div>
                        <div style="width: 100px;">
                            <div class="flex">
                                <p>Ratings</p>
                                <p class="num">9.8k</p>
                            </div>
                            <div class="flex">
                                <p>Follower</p>
                                <p class="num">104k</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="border-bottom: 2px solid black;">
                    <h2>Product Description</h2>
                </div>
                <div style="margin-bottom: 30px;margin-left: 1%;">
                    <p>Design</p>
                    <li>Truffle Black, Bubblegum Blue, Peach Pink and Snowflake White</li>
                    <li>Corning* Gorilla Glass 5 front</li>
                    <li>Dimensions: 160.53 mm x 75.73mm x 6.81mm</li>
                    <li>Weight: 158g'</li>
                    <li>Slim arc side fingerprint sensor</li>
                    <p>Display</p>
                    <li>6.55-inch AMOLED DotDisplay (2400 x 1080 FHD+)</li>
                    <li>1 0-bit color depth with TrueColor and DCI P3</li>
                    <li>90Hz refresh rate and 240Hz touch samDling rate</li>
                    <li>Dolby Vision and HDR 1 0+ support</li>
                    <p>Performance</p>
                    <li>Qualcomm Snapdragon" 778G 6nm manufacturing process 6th Gen Qualcomm AI Engine</li>
                    <li>8GB+128GB, 8GB+256GB UFS 2.2 + LPDDR^X</li>
                    <li>33W fast charging, 33W in box charger</li>
                    <p>Camera</p>
                    <li>64MP + 8MP + SMP triple rear camera</li>
                    <li>64MP main camera</li>
                    <li>1 /1.97“ sensor size, 0 7pm 4-in 1 SuDer *ixel f/J.79 aDerture, 6P lens</li>
                    <li>8MP ultra wide anple camera</li>
                    <li>/4“ sensor size, J 2pm</li>
                    <li>f/2.2 aperture, 5P lens</li>
                    <li>SMP telemacro camera</li>
                    <li>.5“ sensor size, 1.12um, f/2.4 aperture, 4P lens</li>
                    <li>20MP Selfie camera</li>
                    <p>Audio</p>
                    <li>Dual speakers</li>
                    <p>Connectivity</p>
                    <li>SG* Dual SIM</li>
                    <li>Bluetooth 5.2</li>
                    <li>Network bands: </br>SG NR: n1, n3, n5, n7, n8, n20, n28, n38, n41, n66, n77, n78;</br> LTE TDD: 1 /2/3/4/ 5/7/8/12/13/17/18/19/20/26/28/32/66; WCDMA: 1/2/4/ 5/6/8/19; 2G GSM: 2/3/ 5/ 8; </br>LTE TDD: 38/40/4J /42;</li>
                </div>
                <div class="flex1">
                    <div style="border: 1px solid black; height: 60px; line-height: 60px; background-color: white; font-size: 2em; width: 60px; text-align: center;"> &#x2764;</div>
                    <button type="button" class="addtocart" onclick="addToCart()">Add To Cart</button>
                    <div style="border: 1px solid black; height: 60px; line-height: 60px; background-color: #da7245; font-size: 25px; width: 480px; text-align: center; color: white; font-weight: bold;"> Buy Now</div>
                </div>

            </div>
        </div>
    </main>
    <script>
        const userKey = "user";

        function logout() {
            localStorage.removeItem(userKey);
            location.reload();
        }

        if (!localStorage.getItem(userKey)) {
            showLogIn();
        } else {
            showLogOut();
        }

        function showLogOut() {
            document.querySelector(".log").style.display = "none";
            document.querySelector(".log2").style.display = "block";
        }

        function showLogIn() {
            document.querySelector(".log").style.display = "block";
            document.querySelector(".log2").style.display = "none";
        }

        let slideIndex = 1;
        showSlides(slideIndex);

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        let slideTimer = setInterval(function() {
            plusSlides(1)
        }, 3000);

        let slides = document.getElementsByClassName("mySlides");
        for (let i = 0; i < slides.length; i++) {
            slides[i].addEventListener("click", function() {
                clearInterval(slideTimer);
            });
        }

        function showSlides(n) {
            let i;
            let slides = document.getElementsByClassName("mySlides");
            let dots = document.getElementsByClassName("dot");
            if (n > slides.length) {
                slideIndex = 1
            }
            if (n < 1) {
                slideIndex = slides.length
            }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
        }

        const plusBtn = document.querySelector(".plus");
        const minusBtn = document.querySelector(".minus");
        const inputField = document.querySelector(".input");

        plusBtn.addEventListener("click", function() {
            let currentValue = parseInt(inputField.value);
            inputField.value = currentValue + 1;
        });

        minusBtn.addEventListener("click", function() {
            let currentValue = parseInt(inputField.value);
            if (currentValue > 1) {
                inputField.value = currentValue - 1;
            }
        });

        const colorOptions = document.querySelectorAll('.color-option');

        const selectedColorText = document.getElementById('selected-color-text');

        colorOptions.forEach(option => {
            option.addEventListener('click', () => {

                document.querySelectorAll('.selected').forEach(selectedOption => {
                    selectedOption.classList.remove('selected');
                });

                option.classList.add('selected');
                selectedColorText.textContent = option.textContent;
            });
        });

        const colorOptions1 = document.querySelectorAll('.color-option1');

        const selectedColorText1 = document.getElementById('selected-color-text1');

        colorOptions1.forEach(option1 => {
            option1.addEventListener('click', () => {

                document.querySelectorAll('.selected1').forEach(selectedOption1 => {
                    selectedOption1.classList.remove('selected1');
                });

                option1.classList.add('selected1');
                selectedColorText1.textContent = option1.textContent;
            });
        });


        function addToCart() {
            const product = {
                productName: document.querySelector('.product_name h1').textContent,
                productImage: document.querySelector('.product_image p').textContent,
                price: document.querySelector('.price').textContent,
                color: selectedColorText.textContent,
                storage: selectedColorText1.textContent,
                quantity: parseInt(document.querySelector('.input').value)
            };

            updateProductsInCart(product);
        }

        function updateProductsInCart(product) {
            let productsInCart = JSON.parse(window.localStorage.getItem("productsInCart")) || [];

            let existingProductIndex = productsInCart.findIndex(p => p.productName === product.productName);

            if (existingProductIndex !== -1) {
                productsInCart[existingProductIndex].quantity += product.quantity;
            } else {
                productsInCart.push(product);
            }

            window.localStorage.setItem("productsInCart", JSON.stringify(productsInCart));
            location.reload();
        }

        const cartIcon = document.querySelector('.tcart');
        const productsInCart = JSON.parse(localStorage.getItem("productsInCart"));

        let totalQuantity = 0;
        productsInCart.forEach(function(item) {
            totalQuantity += item.quantity;
        });
    </script>
</body>

</html>